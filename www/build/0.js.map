{"version":3,"sources":["../../src/pages/search/search.module.ts","../../src/pages/search/search.ts","../../node_modules/rxjs/add/operator/map.js"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SearchPage } from './search';\n\n@NgModule({\n  declarations: [\n    SearchPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SearchPage),\n  ],\n  exports: [\n    SearchPage\n  ]\n})\nexport class SearchPageModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.module.ts","import { Component, NgZone } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, ModalController, ToastController } from 'ionic-angular';\nimport { Http } from '@angular/http';\nimport { Observable } from 'rxjs';\nimport 'rxjs/add/operator/map';\nimport { Item } from '../../app/item';\n\n declare const gapi : any;\n\n/**\n * Generated class for the SearchPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-search',\n  templateUrl: 'search.html',\n})\nexport class SearchPage {\n\n\n\tprivate loadingItems = false;\n\tprivate loadResults = false;\n\tprivate loadError = false;\n\n\tprivate response: any;\n\tpublic auth2: any;\n\n  \n\tconstructor(public navCtrl: NavController, public zone: NgZone, public navParams: NavParams, private viewCtrl: ViewController, public modalCtrl: ModalController, public toastCtrl: ToastController) {\n\t}\n\n\tionViewDidLoad() {\n\t\tconsole.log('ionViewDidLoad SearchPage');\n\n\t\tthis.handleClientLoad();\n\n\t}\n\n\n\tionViewWillEnter() {\n\t\tthis.viewCtrl.showBackButton(false);\n\t}\n\n\terrorToast() {\n\t    let toast = this.toastCtrl.create({\n\t      message: 'Something went wrong! Please try again.',\n\t      showCloseButton: true,\n\t      closeButtonText: \"OK\",\n\t      dismissOnPageChange: true\n\t    });\n\t    toast.present();\n\t}\n\n\n\n// Authentication of user to search \n\n\nhandleClientLoad() {\n\tconsole.log(\"handleClientLoad\");\n\t  \tlet that = this;\n        gapi.load('client:auth2', function () {\n        gapi.client.init({\n           client_id: '676621258132-6q9s2j1hc8343jj3nn75k0is4s1nb893.apps.googleusercontent.com',\n        cookiepolicy: 'single_host_origin',\n        scope: 'https://www.googleapis.com/auth/spreadsheets'\n        }).then(function () {\n\n          // Listen for sign-in state changes.\n\n  \t\t\t\t          gapi.auth2.getAuthInstance().isSignedIn.listen(that.updateSigninStatus);\n\n          console.log(gapi.auth2.getAuthInstance().isSignedIn.get());\n          // this.test(true);\n          that.updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());\n\n           \n     \n          // authorizeButton.onclick = handleAuthClick;\n          // signoutButton.onclick = handleSignoutClick;\n        });\n        });\n\n      }\n\n      updateSigninStatus(isSignedIn) {\n        if (isSignedIn) {\n        \t//Do nothing\n        \t\t\tthis.callScriptFunction();\n\n        } else {\n\n       // *  Sign in the user upon button click.\n\n\t\t    \t        gapi.auth2.getAuthInstance().signIn();\n\t                // this.navCtrl.push('SearchPage');\n        }\n      }\n\t\n\n\n\n\n//search and display part\n\n\t\ncallScriptFunction() {\n\n // if(ev.target.value!=undefined && ev.target.value != \"\") {\n       \n //      \tthis.loadingItems = true;\n //      \tthis.loadError = false;\n //      \tconsole.log(\"callScriptFunction\", ev.target.value);\n\n      \n\n      var scriptId = \"MD2K4IAXQvDUx9j9i90DKEK-i8ofEvg_L\";\n\n      let that = this;\n\n       // Create execution request.\nvar request = {\n    'function': 'search',\n    'parameters': \"\"\n    // 'devMode': true   // Optional.\n};\n// Make the request.\nvar op = gapi.client.request({\n    'root': 'https://script.googleapis.com',\n    'path': 'v1/scripts/' + scriptId + ':run',\n    'method': 'POST',\n    'body': request\n});\n\n//logging the results\n  op.execute(function(resp ) {\n  that.processResponse(resp);\n\n    \n});\n\n// }\n}\n\n\n\nprocessResponse(resp: any) {\n\nthis.response = resp.response.result;\nconsole.log(this.response);\n\nif(Object.keys(this.response).length ==0)\n\t{this.loadError = true\n  this.loadingItems = false;\n}\nthis.loadingItems = false;\nthis.zone.run(() => {});\n\n\n}\n\n\n\n\nconfirmPurchase(item) {\n\t\tlet product = [];\n\t\tproduct = item;\n\t\tlet modal = this.modalCtrl.create('BuyPage',{item: product});\n\t\tconsole.log(item.itemName);\n\t\tmodal.present();\n\t}\n\n\tonCancel()\n\t{\n\t\tconsole.log(\"cancel button\");\n\t}\n\n\n\tpublic callFilter()\n\t{\n\n\t}\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar map_1 = require('../../operator/map');\nObservable_1.Observable.prototype.map = map_1.map;\n//# sourceMappingURL=map.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/add/operator/map.js\n// module id = 267\n// module chunks = 0"],"sourceRoot":""}